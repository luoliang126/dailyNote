<div>
    <p class="contentTitle">iframe内容</p>
    <p>网页通过iframe加载网页，但iframe的高度不能确定，所以iframe要自适应内容的高度</p>
    <ul>
        <li>
            在父网页获取子网页的高度，并修改iframe的高度,如父子都有滚动条时，取消父滚动条直接在父body中添加overflow:hidden,但保留父滚动条，取消子滚动条则需要加onresize函数
        </li>
        <li>
            网页加载完成后，此时的父-子的高度确定，但如果修改了子网页的内容，使子网页的高度增加或者减小时，父网页的高度依然不会改变，此时需要父页面跟随子页面变化
        </li>
        <li>
            子页面获取父页面的内容(必须放在服务器上)
        </li>
    </ul>
    <ol>
        <li>
            原生js方法:通过contentWindow来获取子页面的元素，也有用contentDocument获取的，但是contentWindow 兼容各个浏览器，可取得子窗口的 window 对象。
            <xmp>
                <iframe src="" id="ifm" frameborder="0"></iframe>

            document.getElementById("ifm").onload = function(){
                var ifmEle = document.getElementById('ifm');
                var ifmInEle = ifmEle.contentWindow.document.body; //获取body
                var mainheight = ifmInEle.offsetHeight + 30;	//加30是为了让子页面中不出现滚动条
                ifmEle.style.height = mainheight+"px";

                var divEle = ifmEle.contentWindow.document.getElementById("printPage") //获取id=printPage 的标签
            };
            </xmp>
        </li>
        <li>
            jq方法
            <pre>
                $("#ifm").load(function () {
                    console.log(1);
                    var mainheight = $(this).contents().find("body").height();	//其中find("body")可以为子元素中的任何元素eg:find(".luoliang")或者find("#luoliang")
                    $(this).height(mainheight);
                });
            </pre>
            <div class="tips">
                以上的两种方法，iframe当中的链接必须是同源，即不能够跨域，否则无法访问
            </div>
        </li>
        <li>
            iframe跨域加载的页面，在父页面是无法修改子页面的内容。而非要修改的话，父子的服务器都必须自己掌控，解决办法参考：<a href="http://blog.csdn.net/fdipzone/article/details/17619673" target="_blank">http://blog.csdn.net/fdipzone/article/details/17619673</a>
            <dl>
                <dt>
                    同域下
                    <xmp>
                        A.html
                        <button onclick="exec_iframe">执行B页面的方法</button>
                        <iframe src="B.html" name="myframe" width="500" height="100"></iframe>
                        <script type="text/javascript">
                            function fMain(){
                                alert('我是主页面');
                            }
                            function exec_iframe(){
                                window.myframe.fIframe(); //执行B页面中的方法
                            }
                        </script>
                        ......


                        B.html
                        <button onclick="exec_main()">执行A页面的方法</button>
                        <script type="text/javascript">
                            function fIframe(){
                                alert('我是iframe里面的页面');
                            }
                            function exec_main(){
                                parent.fMain();  //执行A页面中的方法
                            }
                        </script>
                    </xmp>
                </dt>
                <dt>
                    跨域:因为浏览器为了安全，禁止了不同域访问。因此只要调用与执行的双方是同域则可以相互访问。
                    <ul>
                        <li>
                            在A.html 创建一个 iframe
                        </li>
                        <li>
                            iframe的页面放在 B.html 同域下，命名为execB.html
                        </li>
                        <li>
                            execB.html 里有调用B.html fIframe方法的js调用
                        </li>
                        <li>
                            这样B.html和execB.html都被加载到A.html中，就可以执行方法了
                        </li>
                    </ul>
                    <xmp>
                        A.html
                        <button onclick="exec_iframe()">执行B页面的方法</button>
                        <iframe src="http://127.0.0.1/B.html" name="myframe" width="500" height="100"></iframe>
                        <script type="text/javascript">
                            function fMain(){
                                alert('我是主页面');
                            }
                            function exec_iframe(){
                                if(typeof(exec_obj)=='undefined'){
                                    exec_obj = document.createElement('iframe');
                                    exec_obj.name = 'tmp_frame';
                                    exec_obj.src = 'http://127.0.0.1/execB.html';
                                    exec_obj.style.display = 'none';
                                    document.body.appendChild(exec_obj);
                                }else{
                                    exec_obj.src = 'http://127.0.0.1/execB.html?' + Math.random();
                                }
                            }
                        </script>
                        ......


                        B.html
                        <script type="text/javascript">
                            function fIframe(){
                                alert('我是子页面');
                            }
                        </script>

                        execB.html
                        <script type="text/javascript">
                            parent.window.myframe.fIframe(); // execute parent myframe fIframe function
                        </script>
                    </xmp>
                </dt>
            </dl>
        </li>
    </ol>
</div>
