
app.controller("inside-objectController", function ($scope) {
    var timer = function () {
        var date = new Date;
        var year = date.getFullYear();
        var month = date.getMonth() + 1; //月份是从0开始计算，所以加1
        var day = date.getDate();
        var hour = date.getHours();
        var minute = date.getMinutes();
        var second = date.getSeconds();
        // console.info(second);
        var divEle = document.getElementById("time");
        var weekday = date.getDay();
        var arr = ["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]
        divEle.innerHTML = year + "年" + month + "月" + day + "日" + hour + "时" + minute + "分" + second + "秒" + arr[weekday];
    };
    setInterval(timer,1000);

    var timer1 = function(){
        var curtime = new Date;
        var endtime = new Date("2017,6,7") //设定指定日期
        var lefttime = endtime.getTime() - curtime.getTime(); //转换为毫秒1天 = 24h  1h = 60minutes 1minute = 60seconds 1second = 1000ms
        var day = Math.ceil(lefttime/(24*60*60*1000));
        var gaokaoEle = document.getElementById("gaokao");
        gaokaoEle.innerHTML = day;
    };
    timer1();

    var timer2 = function(){
        var curtime = new Date;
        var endtime = new Date("2017,7,1,00:00:00")
        // var endtime = new Date("2016,4,21,00:00:00")*1; 	//直接将时间转换为ms
        var lefttime = parseInt((endtime.getTime() - curtime.getTime())/1000)			//单位是s
        var second = parseInt(lefttime%60)	//此处用取整，不用math.ceil(因为倒计时不用向上取整)
        var minute = parseInt(lefttime/60%60);			//转换为m
        var hour = parseInt(lefttime/(60*60)%24);	//对24取模是因为每天有24h，我们只需要余下的部分
        var date = parseInt(lefttime/(24*60*60));

        var laterDay = document.getElementById("laterDay");
        var laterHour = document.getElementById("laterHour");
        var laterMinute = document.getElementById("laterMinute");
        var laterSecond = document.getElementById("laterSecond");

        laterDay.innerHTML = date;
        laterHour.innerHTML = hour;
        laterMinute.innerHTML = minute;
        laterSecond.innerHTML = second;
    }
    setInterval(timer2,1000);

    //最大值/最小值
    var a = Math.max(1,2,3,45,9856,54,0,1,4);

    //随机数
    var b = Math.round(Math.random()*12+2);

    $scope.regUser = function(){
        var userNameVal = document.getElementById("userName").value;
        var reg = /^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/;
        if(reg.test(userNameVal)){
            $scope.result = "匹配成功"
        }else{
            $scope.result = "匹配失败"
        }
    };
})